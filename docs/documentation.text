

============================================================
ğŸ“˜ Project Documentation â€” Containerized Microservices on AWS ECS
============================================================

Author: Manvendra Singh Shekhawat
Email: manvendrasinghshekhawat324@gmail.com
------------------------------------------------------------

## ğŸš€ Project Overview

This project demonstrates how to containerize and deploy multiple microservices using **Amazon ECS (Elastic Container Service)** with **AWS Fargate** and an **Application Load Balancer (ALB)** â€” without using Terraform or any IaC tool.  
It is a hands-on implementation designed to help understand microservice deployment, container orchestration, and load balancing in AWS.

### ğŸ§  Objective
- Learn how to deploy microservices in a serverless container environment (Fargate).
- Understand networking and routing using Application Load Balancer (ALB).
- Gain practical experience in ECS service creation, scaling, and verification.

### ğŸ§© Microservices
1. **User Service** â†’ Flask application running on port `5000`
2. **Product Service** â†’ Flask application running on port `5001`

Both applications are containerized with Docker and deployed independently as ECS services.

------------------------------------------------------------

## âš™ï¸ Step-by-Step Deployment Guide (Manual AWS Setup)

### Step 1 â€” Create ECS Cluster
- Navigate to **ECS Console â†’ Clusters â†’ Create Cluster**
- Choose **Launch Type: Fargate**
- Cluster Name: `microservices-cluster`

âœ… *Purpose:* This cluster acts as the logical boundary where our Fargate services will run.

------------------------------------------------------------

### Step 2 â€” Create Target Groups
Create two target groups to route traffic to the correct service.

| Name         | Target Type | Port | Health Check Path |
|---------------|-------------|------|-------------------|
| tg-users      | IP          | 5000 | /health           |
| tg-products   | IP          | 5001 | /health           |

âœ… *Purpose:* Target groups maintain registered service IPs and perform health checks to ensure healthy traffic routing.

------------------------------------------------------------

### Step 3 â€” Create Application Load Balancer (ALB)
- Go to **EC2 â†’ Load Balancers â†’ Create Load Balancer â†’ Application Load Balancer**
- **Scheme:** Internet-facing  
- **Protocol:** HTTP (port 80)  
- Add **at least two subnets** in your default VPC  
- Create a new **security group** that allows inbound port **80** from anywhere.

After ALB creation:
- Default target group: `tg-users`
- Go to **Listeners â†’ Edit Rules** and add routing rules:
  - `/users*` â†’ Forward to `tg-users`
  - `/products*` â†’ Forward to `tg-products`

âœ… *Purpose:* The ALB routes incoming HTTP requests to the appropriate microservice based on URL path.

------------------------------------------------------------

### Step 4 â€” Create ECS Services
For each microservice, create an ECS service.

#### a. User Service
- Task Definition: `user-service`
- Launch Type: **Fargate**
- Service Name: `user-service`
- Load Balancer: Select the ALB created above
- Listener Port: 80
- Target Group: `tg-users`
- Desired Count: 1

#### b. Product Service
- Task Definition: `product-service`
- Launch Type: **Fargate**
- Service Name: `product-service`
- Load Balancer: Same ALB
- Listener Port: 80
- Target Group: `tg-products`
- Desired Count: 1

âœ… *Purpose:* ECS services ensure that containers run continuously and restart automatically if they fail.

------------------------------------------------------------

### Step 5 â€” Verify Deployment

After services are running successfully, open your ALBâ€™s DNS name in a browser:

```
http://<ALB-DNS>/users
http://<ALB-DNS>/products
```

You should see the respective microservice responses.

âœ… *Result:* Requests hitting the ALB are automatically routed to the correct ECS service.

------------------------------------------------------------

## ğŸ§© Directory Overview

```
containerized-microservices/
â”œâ”€â”€ user-service/          # Flask app for users
â”œâ”€â”€ product-service/       # Flask app for products
â”œâ”€â”€ ecs/                   # ECS & ALB setup files
â”œâ”€â”€ docs/                  # Documentation & diagrams
â””â”€â”€ docker-compose.yml     # Local testing setup
```

------------------------------------------------------------

## ğŸ§ª Local Testing

You can test both services locally using Docker Compose.

Run containers locally:
```
docker-compose up --build
```

Check health endpoints:
```
curl http://localhost:5000/health
curl http://localhost:5001/health
```

âœ… *Purpose:* This ensures both services are functional before deploying to ECS.

------------------------------------------------------------

## ğŸ§  Key Takeaways
- ECS Fargate allows serverless container deployment without managing EC2 instances.
- ALB efficiently routes traffic to microservices using path-based routing.
- Target Groups and Health Checks maintain high availability and fault tolerance.
- Modular architecture supports independent scaling of microservices.

------------------------------------------------------------

## ğŸ‘¨â€ğŸ’» Author Information

**Author:** Manvendra Singh Shekhawat  
**Email:** manvendrasinghshekhawat324@gmail.com  

------------------------------------------------------------
